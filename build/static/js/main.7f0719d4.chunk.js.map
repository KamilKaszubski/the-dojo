{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","hooks/useDocument.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","assets/temple.svg","components/Navbar.js","hooks/useLogout.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","Avatar","src","className","alt","ProjectList","projects","length","map","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","filterList","ProjectFilter","currentFilter","changeFilter","f","onClick","newFilter","Dashboard","setCurrentFilter","filter","document","assignedToMe","u","uid","category","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","navigate","useNavigate","users","setUsers","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","displayName","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","options","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","online","useLogin","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","ProjectSummary","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","Project","setDocument","err","useDocument","useParams","Navbar","logout","currentUser","signOut","useLogout","Temple","Sidebar","DashboardIcons","AddIcon","OnlineUsers","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7f0719d4.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCzqS5gs-prjaXwNymM-BOisMZpMpOBrGM',\n  authDomain: 'thedojosite-8bf52.firebaseapp.com',\n  projectId: 'thedojosite-8bf52',\n  storageBucket: 'thedojosite-8bf52.appspot.com',\n  messagingSenderId: '1044809289731',\n  appId: '1:1044809289731:web:d4cf4444acb53e49cc7e36',\n};\n\n//   init firebase\nfirebase.initializeApp(firebaseConfig);\n\n// init services\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\nconst projectStorage = firebase.storage();\n\n// timestamp\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, projectStorage,  timestamp };\n","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","// styles\nimport './Avatar.css';\n\nconst Avatar = ({ src }) => {\n  return (\n    <div className='avatar'>\n      <img src={src} alt='user avatar' />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import { Link } from 'react-router-dom';\nimport Avatar from './Avatar';\n\n// styles\nimport './ProjectList.css';\n\nconst ProjectList = ({ projects }) => {\n  return (\n    <div className='project-list'>\n      {projects.length === 0 && <p>No projects yet.</p>}\n      {projects.map((project) => (\n        <Link to={`/projects/${project.id}`} key={project.id}>\n          <h4>{project.name}</h4>\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\n          <div className='assigned-to'>\n            <ul>\n              {project.assignedUsersList.map((user) => (\n                <li key={user.photoURL}>\n                  <Avatar src={user.photoURL} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nexport default ProjectList;\n"," \nconst filterList = [\n  'all',\n  'mine',\n  'development',\n  'design',\n  'marketing',\n  'sales',\n];\n\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\n  const handleClick = (newFilter) => {\n    console.log(newFilter);\n    changeFilter(newFilter);\n  };\n\n  return (\n    <div className='project-filter'>\n      <nav>\n        <p>Filter by:</p>\n        {filterList.map((f) => (\n          <button\n            key={f}\n            onClick={() => handleClick(f)}\n            className={currentFilter === f ? 'active' : ''}\n          >\n            {f}\n          </button>\n        ))}\n      </nav>\n    </div>\n  );\n}\n","import { useCollection } from '../../hooks/useCollection';\nimport ProjectList from '../../components/ProjectList';\nimport ProjectFilter from './ProjectFilter';\nimport { useState } from 'react';\nimport { useAuthContext } from '../../hooks/useAuthContext';\n\n// styles\nimport './Dashboard.css';\n\nconst Dashboard = () => {\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection('projects');\n  const [currentFilter, setCurrentFilter] = useState('all');\n\n  const changeFilter = (newFilter) => {\n    setCurrentFilter(newFilter);\n  };\n\n  const projects = documents\n    ? documents.filter((document) => {\n        switch (currentFilter) {\n          case 'all':\n            return true;\n          case 'mine':\n            let assignedToMe = false;\n            document.assignedUsersList.forEach((u) => {\n              if (user.uid === u.id) {\n                assignedToMe = true;\n              }\n            });\n            return assignedToMe;\n          case 'development':\n          case 'design':\n          case 'marketing':\n          case 'sales':\n            console.log(document.category, currentFilter);\n            return document.category === currentFilter;\n          default:\n            return true;\n        }\n      })\n    : null;\n\n  return (\n    <div>\n      <h2 className='page-title'>Dashboard</h2>\n      {error && <p className='error'>{error}</p>}\n      {documents && (\n        <ProjectFilter\n          currentFilter={currentFilter}\n          changeFilter={changeFilter}\n        />\n      )}\n      {projects && <ProjectList projects={projects} />}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import { useReducer, useEffect, useState } from 'react';\nimport { projectFirestore, timestamp } from '../firebase/config';\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null };\n    case 'ADDED_DOCUMENT':\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null };\n    case 'UPDATED_DOCUMENT':\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case 'ERROR':\n      return {\n        isPending: false,\n        document: null,\n        success: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  // collection ref\n  const ref = projectFirestore.collection(collection);\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' });\n\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: 'ADDED_DOCUMENT',\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message });\n    }\n  };\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' });\n\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' });\n    }\n  };\n\n  // update a document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: 'IS_PENDING' });\n    try {\n      const updatedDocument = await ref.doc(id).update(updates);\n      dispatchIfNotCancelled({\n        type: 'UPDATED_DOCUMENT',\n        payload: updatedDocument,\n      });\n      return updatedDocument;\n    } catch (error) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: error.message });\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, deleteDocument, updateDocument, response };\n};\n","import { useState, useEffect } from 'react';\nimport { useCollection } from '../../hooks/useCollection';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { timestamp } from '../../firebase/config';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { useNavigate } from 'react-router';\nimport Select from 'react-select';\n\n// styles\nimport './Create.css';\n\nconst categories = [\n  { value: 'development', label: 'Development' },\n  { value: 'design', label: 'Design' },\n  { value: 'sales', label: 'Sales' },\n  { value: 'marketing', label: 'Marketing' },\n];\n\nexport default function Create() {\n  const navigate = useNavigate();\n  const { addDocument, response } = useFirestore('projects');\n  const { user } = useAuthContext();\n  const { documents } = useCollection('users');\n  const [users, setUsers] = useState([]);\n\n  // form field values\n  const [name, setName] = useState('');\n  const [details, setDetails] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [category, setCategory] = useState('');\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n\n  // create user values for react-select\n  useEffect(() => {\n    if (documents) {\n      setUsers(\n        documents.map((user) => {\n          return { value: { ...user, id: user.id }, label: user.displayName };\n        })\n      );\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n\n    if (!category) {\n      setFormError('Please select a project category.');\n      return;\n    }\n    if (assignedUsers.length < 1) {\n      setFormError('Please assign the project to at least 1 user');\n      return;\n    }\n\n    const assignedUsersList = assignedUsers.map((u) => {\n      return {\n        displayName: u.value.displayName,\n        photoURL: u.value.photoURL,\n        id: u.value.id,\n      };\n    });\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid,\n    };\n\n    const project = {\n      name,\n      details,\n      assignedUsersList,\n      createdBy,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      comments: [],\n    };\n\n    await addDocument(project);\n    if (!response.error) {\n      navigate('/');\n    }\n  };\n\n  return (\n    <div className='create-form'>\n      <h2 className='page-title'>Create a new Project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input\n            required\n            type='text'\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Project Details:</span>\n          <textarea\n            required\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input\n            required\n            type='date'\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select\n            onChange={(option) => setCategory(option)}\n            options={categories}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            onChange={(option) => setAssignedUsers(option)}\n            options={users}\n            isMulti\n          />\n        </label>\n\n        <button className='btn'>Add Project</button>\n\n        {formError && <p className='error'>{formError}</p>}\n      </form>\n    </div>\n  );\n}\n","import { useState } from 'react';\n\nimport './Login.css';\nimport { useLogin } from '../../hooks/useLogin';\n\n// styles\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { login, isPending, error } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className='auth-form'>\n      <h2>Log in</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type='email'\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type='password'\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n\n      {!isPending && <button className='btn'>Log in</button>}\n      {isPending && (\n        <button className='btn' disabled>\n          loading\n        </button>\n      )}\n      {error && <div className='error'>{error}</div>}\n    </form>\n  );\n};\n\nexport default Login;\n","import { useState, useEffect } from 'react';\nimport { projectAuth, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch, user } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password);\n\n      // update user state\n      await projectFirestore.collection('users').doc(res.user.uid).update({\n        online: true,\n      });\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { login, isPending, error };\n};\n","import { useState } from 'react';\nimport { useSignup } from '../../hooks/useSignup';\n\n// styles\nimport './Signup.css';\n\nexport default function Signup() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setThumbnailError] = useState(null);\n  const { signup, isPending, error } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName, thumbnail);\n  };\n\n  const handleFileChange = (e) => {\n    setThumbnail(null);\n    let selected = e.target.files[0];\n    console.log(selected);\n\n    if (!selected) {\n      setThumbnailError('Please select a file');\n      return;\n    }\n    if (!selected.type.includes('image')) {\n      setThumbnailError('Selected file must be an image');\n      return;\n    }\n    if (selected.size > 100000) {\n      setThumbnailError('Image file size must be less than 100kb');\n      return;\n    }\n\n    setThumbnailError(null);\n    setThumbnail(selected);\n    console.log('thumbnail updated');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className='auth-form'>\n      <h2>Sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type='email'\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type='password'\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          required\n          type='text'\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile thumbnail:</span>\n        <input required type='file' onChange={handleFileChange} />\n        {thumbnailError && <div className='error'>{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className='btn'>Sign up</button>}\n      {isPending && (\n        <button className='btn' disabled>\n          Loading...\n        </button>\n      )}\n      {error && <div className='error'>{error}</div>}\n    </form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport {\n  projectAuth,\n  projectStorage,\n  projectFirestore,\n} from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      if (!res) {\n        throw new Error('Could not complete signup');\n      }\n\n      // upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`;\n      const img = await projectStorage.ref(uploadPath).put(thumbnail);\n      const imgUrl = await img.ref.getDownloadURL();\n\n      // add display AND PHOTO_URL name to user\n      await res.user.updateProfile({ displayName, photoURL: imgUrl });\n\n      // create a user document\n      await projectFirestore.collection('users').doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl,\n      });\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { signup, error, isPending };\n};\n","import { useEffect, useState } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nexport const useDocument = (collection, id) => {\n  const [document, setDocument] = useState(null);\n  const [error, setError] = useState(null);\n\n  // realtime document data\n  useEffect(() => {\n    const ref = projectFirestore.collection(collection).doc(id);\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        // need to make sure the doc exists & has data\n        if (snapshot.data()) {\n          setDocument({ ...snapshot.data(), id: snapshot.id });\n          setError(null);\n        } else {\n          setError('No such document exists');\n        }\n      },\n      (err) => {\n        console.log(err.message);\n        setError('failed to get document');\n      }\n    );\n\n    // unsubscribe on unmount\n    return () => unsubscribe();\n  }, [collection, id]);\n\n  return { document, error };\n};\n","import Avatar from '../../components/Avatar';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst ProjectSummary = ({ project }) => {\n  const navigate = useNavigate();\n  const { deleteDocument } = useFirestore('projects');\n  const { user } = useAuthContext();\n\n  const handleClick = (e) => {\n    deleteDocument(project.id);\n    navigate('/');\n  };\n\n  return (\n    <div>\n      <div className='project-summary'>\n        <h2 className='page-title'>{project.name}</h2>\n        <p>By {project.createdBy.displayName}</p>\n        <p className='due-date'>\n          Project due by {project.dueDate.toDate().toDateString()}\n        </p>\n        <p className='details'>{project.details}</p>\n        <h4>Project is assigned to:</h4>\n        <div className='assigned-users'>\n          {project.assignedUsersList.map((user) => (\n            <div key={user.id}>\n              <Avatar src={user.photoURL} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {user.uid === project.createdBy.id && (\n        <button className='btn' onClick={handleClick}>\n          Mark as Complete{' '}\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectSummary;\n","import { useState } from 'react';\nimport Avatar from '../../components/Avatar';\nimport { timestamp } from '../../firebase/config';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\n\nconst ProjectComments = ({ project }) => {\n  const { updateDocument, response } = useFirestore('projects');\n  const [newComment, setNewComment] = useState(' ');\n  const { user } = useAuthContext();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const commentToAdd = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      content: newComment,\n      createdAt: timestamp.fromDate(new Date()),\n      id: Math.random(),\n    };\n    await updateDocument(project.id, {\n      comments: [...project.comments, commentToAdd],\n    });\n    if (!response.error) {\n      setNewComment('');\n    }\n  };\n\n  return (\n    <div className='project-comments'>\n      <h4>Project Comments</h4>\n\n      <ul>\n        {project.comments.length > 0 &&\n          project.comments.map((comment) => (\n            <li key={comment.id}>\n              <div className='comment-author'>\n                <Avatar src={comment.photoURL} />\n                <p>{comment.displayName}</p>\n              </div>\n              <div className='comment-date'>\n                <p>\n                  {formatDistanceToNow(comment.createdAt.toDate(), {\n                    addSuffix: true,\n                  })}\n                </p>\n              </div>\n              <div className='comment-content'>\n                <p>{comment.content}</p>\n              </div>\n            </li>\n          ))}\n      </ul>\n\n      <form className='add-comment' onSubmit={handleSubmit}>\n        <label>\n          <span>Add new comment</span>\n          <textarea\n            required\n            onChange={(e) => setNewComment(e.target.value)}\n            value={newComment}\n          ></textarea>\n        </label>\n        <button className='btn'>Add Comment</button>\n      </form>\n    </div>\n  );\n};\n\nexport default ProjectComments;\n","import { useParams } from 'react-router-dom';\nimport { useDocument } from '../../hooks/useDocument';\nimport ProjectSummary from './ProjectSummary';\n\n// styles\nimport './Project.css';\nimport ProjectComments from './ProjectComments';\n\nconst Project = () => {\n  const { id } = useParams();\n  const { error, document } = useDocument('projects', id);\n\n  if (error) {\n    return <div className='error'>{error}</div>;\n  }\n\n  if (!document) {\n    return <div className='loading'>Loading...</div>;\n  }\n\n  return (\n    <div project-details>\n      <ProjectSummary project={document} />\n      <ProjectComments project={document} />\n    </div>\n  );\n};\n\nexport default Project;\n","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom';\nimport { useLogout } from '../hooks/useLogout';\nimport { useAuthContext } from '../hooks/useAuthContext';\n\n//  styles & logos\nimport './Navbar.css';\nimport Temple from '../assets/temple.svg';\n\nconst Navbar = () => {\n  const { logout, isPending } = useLogout();\n  const { user } = useAuthContext();\n\n  return (\n    <div className='navbar'>\n      <ul>\n        <li className='logo'>\n          <img src={Temple} alt='Dojo Logo' />\n          <span>The Dojo</span>\n        </li>\n        {!user && (\n          <>\n            <li>\n              <Link to='/login'>Log in</Link>\n            </li>\n            <li>\n              <Link to='/signup'>Sign up</Link>\n            </li>\n          </>\n        )}\n        {user && (\n          <li>\n            {!isPending && (\n              <button className='btn' onClick={logout}>\n                Log out\n              </button>\n            )}\n            {isPending && (\n              <button className='btn' disabled>\n                Logging out...\n              </button>\n            )}\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import { useEffect, useState } from 'react';\nimport { projectAuth, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // update online status\n      const { uid } = projectAuth.currentUser;\n      await projectFirestore\n        .collection('users')\n        .doc(uid)\n        .update({ online: false });\n\n      // sign the user out\n      await projectAuth.signOut();\n\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' });\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { logout, error, isPending };\n};\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from 'react-router-dom';\nimport Avatar from './Avatar';\nimport { useAuthContext } from '../hooks/useAuthContext';\n\n// styles & icons\nimport './Sidebar.css';\nimport DashboardIcons from '../assets/dashboard_icon.svg';\nimport AddIcon from '../assets/add_icon.svg';\n// import userEvent from '@testing-library/user-event';\n\nconst Sidebar = () => {\n  const { user } = useAuthContext();\n\n  return (\n    <div className='sidebar'>\n      <div className='sidebar-content'>\n        <div className='user'>\n          <Avatar src={user.photoURL} />\n          <p>Hey {user.displayName}</p>\n        </div>\n        <nav className='links'>\n          <ul>\n            <li>\n              <NavLink to='/'>\n                <img src={DashboardIcons} alt='dashboard icon' />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to='/create'>\n                <img src={AddIcon} alt='add project icon' />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import { useCollection } from '../hooks/useCollection';\nimport Avatar from './Avatar';\n\n// styles\nimport './OnlineUsers.css';\n\nconst OnlineUsers = () => {\n  const { error, documents } = useCollection('users');\n  return (\n    <div className='user-list'>\n      <h2>All Users</h2>\n      {error && <div className='error '>{error}</div>}\n      {documents &&\n        documents.map((user) => (\n          <div id={user.id} className='user-list-item' key={user.id}>\n            {user.online && <span className='online-user'></span>}\n            <span>{user.displayName}</span>\n            <Avatar src={user.photoURL} />\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default OnlineUsers;\n","import './App.css';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\n// pages and component\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Create from './pages/create/Create';\nimport Login from './pages/login/Login.js';\nimport Signup from './pages/signup/Signup';\nimport Project from './pages/project/Project';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers';\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext();\n  return (\n    <div className='App'>\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className='container'>\n            <Navbar />\n            <Routes>\n              <Route\n                path='/'\n                element={user ? <Dashboard /> : <Navigate to='/login' />}\n              />\n              <Route\n                path='/create'\n                element={user ? <Create /> : <Navigate to='/login' />}\n              />\n              <Route\n                path='projects/:id'\n                element={user ? <Project /> : <Navigate to='/login' />}\n              />\n              <Route\n                path='/login'\n                element={!user ? <Login /> : <Navigate to='/' />}\n              />\n              <Route\n                path='/signup'\n                element={!user ? <Signup /> : <Navigate to='/' />}\n              />\n            </Routes>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}